{"version":3,"sources":["Register.js"],"names":[],"mappings":";;;;;;;;AAIA;;AACA;;;;AACA;;;;;;;;;;;;AANA;;;AAGA,QAAQ,qBAAR;;;AAKA,IAAI,IAAI,QAAQ,QAAR,CAAR;;IAEM,Q;;;AACJ,sBAAc;AAAA;;AAAA;;AAEZ,UAAK,KAAL,GAAa;AACX,gBAAU;AADC,KAAb;AAFY;AAKb;;;;+BAEU;AAAA;;AACT,QAAE,IAAF,CAAO;AACL,aAAK,gCADA;AAEL,gBAAQ,MAFH;AAGL,cAAM;AACJ,oBAAU,KAAK,SAAL,CAAe,KADrB;AAEJ,oBAAU,KAAK,SAAL,CAAe;AAFrB,SAHD;AAOL,iBAAS,mBAAK;AACZ,sCAAe,IAAf,CAAoB,GAApB;AACD,SATI;AAUL,eAAO,eAAC,IAAD,EAAS;AACd,cAAI,aAAa,KAAK,YAAtB;AACA,kBAAQ,GAAR,CAAY,UAAZ;AACA,cAAI,cAAc,UAAlB,EAA8B;AAC5B,mBAAK,QAAL,CAAc,EAAC,QAAQ,OAAT,EAAd;AACD,WAFD,MAEO,IAAI,cAAc,OAAlB,EAA2B;AAChC,mBAAK,QAAL,CAAc,EAAC,QAAQ,QAAT,EAAd;AACD;AACF;AAlBI,OAAP;AAoBD;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AAAA;AAAA;AAAK,WAAC,CAAC,KAAK,KAAL,CAAW,MAAb,GAAsB,KAAK,KAAL,CAAW,MAAjC,GAA0C;AAA/C,SAFF;AAAA;AAGY,iDAAO,MAAK,MAAZ,EAAmB,MAAK,MAAxB,EAA+B,IAAG,MAAlC,EAAyC,KAAK,aAAC,KAAD;AAAA,mBAAW,OAAK,SAAL,GAAiB,KAA5B;AAAA,WAA9C,GAHZ;AAAA;AAIY,iDAAO,MAAK,UAAZ,EAAuB,MAAK,UAA5B,EAAuC,IAAG,UAA1C,EAAqD,KAAK,aAAC,KAAD;AAAA,mBAAW,OAAK,SAAL,GAAiB,KAA5B;AAAA,WAA1D,GAJZ;AAKE;AAAA;AAAA;AAAA;AAAU;AAAA;AAAA,cAAM,IAAG,QAAT;AAAA;AAAA;AAAV,SALF;AAME;AAAA;AAAA,YAAQ,OAAM,QAAd,EAAuB,SAAS,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAhC;AAAA;AAAA,SANF;AAOE,2DAAM,IAAG,GAAT,EAAa,KAAK,aAAC,IAAD;AAAA,mBAAS,OAAK,IAAL,GAAY,IAArB;AAAA,WAAlB;AAPF,OADF;AAWD;;;;EA3CoB,gBAAM,S;;kBA8Cd,Q","file":"Register-compiled.js","sourcesContent":["/**\n * Created by humengtao on 2016/11/17.\n */\nrequire('styles/register.css');\nimport {Link, browserHistory} from 'react-router';\nimport React from 'react';\nimport login_action from '../actions/LoginAction';\n\nlet $ = require('jquery');\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      errorMsg: ''\n    }\n  }\n\n  register() {\n    $.ajax({\n      url: 'http://localhost:3000/register',\n      method: 'POST',\n      data: {\n        username: this.userInput.value,\n        password: this.passInput.value\n      },\n      success: ()=> {\n        browserHistory.push('/')\n      },\n      error: (data)=> {\n        var errMessage = data.responseText;\n        console.log(errMessage);\n        if (errMessage == 'wrongful') {\n          this.setState({errMsg: '输入不合法'})\n        } else if (errMessage == 'exist') {\n          this.setState({errMsg: '用户名已存在'})\n        }\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"register\">\n        <h1>Register</h1>\n        <h2>{!!this.state.errMsg ? this.state.errMsg : ''}</h2>\n        Username: <input type=\"text\" name=\"name\" id=\"name\" ref={(input) => this.userInput = input}/>\n        Password: <input type=\"password\" name=\"password\" id=\"password\" ref={(input) => this.passInput = input}/>\n        <p> 已注册账号，<Link to=\"/login\">登录</Link></p>\n        <button value=\"submit\" onClick={this.register.bind(this)}>register</button>\n        <Link to=\"/\" ref={(Link)=> this.link = Link}/>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"]}