{"version":3,"sources":["SocketStore.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAM,QAAQ,iBAAO,WAAP,CAAmB;AAC/B,SAAO,EADwB;;AAG/B,SAAM,EAHyB;;AAK/B,qCAL+B;;AAO/B,UAP+B,sBAOrB;AAAA;;AAER,SAAK,MAAL,GAAc,sBAAG,uBAAH,CAAd;AACA,SAAK,MAAL,CAAY,EAAZ,CAAe,kBAAf,EAAmC,UAAC,IAAD,EAAS;AAC1C,YAAK,SAAL,CAAe,IAAf;AACD,KAFD;AAGD,GAb8B;AAe/B,OAf+B,mBAexB;AACL,SAAK,OAAL,CAAa,KAAK,KAAlB;AACD,GAjB8B;AAmB/B,QAnB+B,kBAmBvB,IAnBuB,EAmBlB;AACX,SAAK,MAAL,CAAY,IAAZ,CAAiB,aAAjB,EAAgC,IAAhC;AACD,GArB8B;AAuB/B,WAvB+B,qBAuBpB,IAvBoB,EAuBf;AACd,QAAG,KAAK,QAAL,IAAe,qBAAY,QAA9B,EAAuC;AACrC,WAAK,KAAL,GAAW,OAAX;AACD,KAFD,MAGK;AACH,WAAK,KAAL,GAAW,MAAX;AACD;AACD,SAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;AACA,SAAK,OAAL,CAAa,KAAK,KAAlB;AACD;AAhC8B,CAAnB,CAAd;;kBAoCe,K","file":"SocketStore-compiled.js","sourcesContent":["import reflux from 'reflux';\nimport actions from '../actions/SocketAction';\nimport io from 'socket.io-client';\nimport login_store from '../stores/LoginStore';\n\n\nconst Store = reflux.createStore({\n  items: [],\n\n  users:[],\n\n  listenables: actions,\n\n  onSocket(){\n\n    this.socket = io('http://localhost:3000');\n    this.socket.on('server:broadcast', (data)=> {\n      this.onReceive(data);\n    });\n  },\n\n  onGet(){\n    this.trigger(this.items);\n  },\n\n  onSend (data){\n    this.socket.emit('client:send', data);\n  },\n\n  onReceive (data){\n    if(data.username==login_store.username){\n      data.align='right';\n    }\n    else {\n      data.align='left';\n    }\n    this.items.push(data);\n    this.trigger(this.items);\n  }\n\n});\n\nexport default Store;\n"]}